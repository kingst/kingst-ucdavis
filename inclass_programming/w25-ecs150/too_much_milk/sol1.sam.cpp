// Sam thread
if (!note) {     // (1)
  // leave note
  note = true;   // (3)
  if (noMilk) {  //
    buyMilk();   //
  }
  // remove note
  note = false;  //
}
